<Window x:Class="PulsoidToOSC.OptionsWindow"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
		xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:local="clr-namespace:PulsoidToOSC"
		mc:Ignorable="d"
		Title="Pulsoid to OSC options" ResizeMode="NoResize" Height="340" Width="560"
		xmlns:ui="http://schemas.modernwpf.com/2019"
		ui:WindowHelper.UseModernWindowStyle="True">

    <Window.Resources>
    </Window.Resources>
    
	<Grid>
		<ui:SimpleStackPanel>
            <TabControl>
                <TabItem Name="general" Header="General">
                    <TabItem.Content>
                        <Grid Margin="12">
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>

                            <Grid Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="140"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Button
									Command="{Binding GetTokenCommand}"
									Content="Get Pulsiod token"
									HorizontalAlignment="Stretch"
									Grid.Column="0"
									Margin="4"
								/>
                                <TextBlock
									HorizontalAlignment="Left"
									VerticalAlignment="Center"
									Text="Open Pulsoid authorization page in web browser"
									Grid.Column="1"
									Margin="4"
								/>
                            </Grid>

                            <Grid Grid.Row="1">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="140"/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="40"/>
                                </Grid.ColumnDefinitions>
                                <Button 
									Command="{Binding SetTokenCommand}"
									Content="Set Pulsoid token"
									HorizontalAlignment="Stretch"
									Grid.Column="0"
									Margin="4"
								/>
                                <TextBox
									Text="{Binding TokenText, UpdateSourceTrigger=PropertyChanged}"
									VerticalContentAlignment="Center"
									Grid.Column="1"
									Margin="4"
								/>
                                <ui:ProgressRing
									IsActive="{Binding TokenValidationIndicator}"
									Grid.Column="2"
								/>
                                <Label
									Visibility="{Binding TokenValidationValid}"
									Grid.Column="2"
									Content="&#xE10B;"
									FontFamily="Segoe MDL2 Assets"
									HorizontalAlignment="Center"
									VerticalAlignment="Center"
									FontSize="24"
									Foreground="Green"                                    
								/>
                                <Label
									Visibility="{Binding TokenValidationInvalid}"
									Grid.Column="2"
									Content="&#xE711;"
									FontFamily="Segoe MDL2 Assets"
									HorizontalAlignment="Center"
									VerticalAlignment="Center"
									FontSize="24"
									Foreground="Red"
								/>
                            </Grid>

                            <ui:ToggleSwitch
								IsOn="{Binding AutoStartCheckmark, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
								OnContent="Auto Start"
								OffContent="Auto Start"
								Grid.Row="2"
								Margin="4"
							/>
                        </Grid>
                    </TabItem.Content>
                </TabItem>

                <TabItem Name="osc" Header="OSC">
                    <TabItem.Content>
                        <Grid Margin="12">
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>

                            <ui:ToggleSwitch
								IsOn="{Binding OSCManualConfigCheckmark, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
								OnContent="Send heart rate to manual OSC endpoint"
								OffContent="Send heart rate to manual OSC endpoint"
								Grid.Row="0"
								Margin="4"
							/>

                            <Grid Grid.Row="1">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="120"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Button
									IsEnabled="{Binding OSCManualConfigCheckmark, UpdateSourceTrigger=PropertyChanged}"
									Command="{Binding SetOSCIPCommand}"
									Content="Set OSC IP"
									HorizontalAlignment="Stretch"
									Grid.Column="0"
									Margin="4"
								/>
                                <TextBox
									IsEnabled="{Binding OSCManualConfigCheckmark, UpdateSourceTrigger=PropertyChanged}"
									Text="{Binding OSCIPText, UpdateSourceTrigger=PropertyChanged}"
									VerticalContentAlignment="Center"
									Grid.Column="1"
									Margin="4"
								/>
                            </Grid>

                            <Grid Grid.Row="2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="120"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Button 
									IsEnabled="{Binding OSCManualConfigCheckmark, UpdateSourceTrigger=PropertyChanged}"
									Command="{Binding SetOSCPortCommand}"
									Content="Set OSC Port"
									HorizontalAlignment="Stretch"
									Grid.Column="0"
									Margin="4"
								/>
                                <TextBox
									IsEnabled="{Binding OSCManualConfigCheckmark, UpdateSourceTrigger=PropertyChanged}"
									Text="{Binding OSCPortText, UpdateSourceTrigger=PropertyChanged}"
									VerticalContentAlignment="Center"
									Grid.Column="1"
									Margin="4"
								/>
                            </Grid>

                            <Grid Grid.Row="3">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="120"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Button 
									IsEnabled="{Binding OSCManualConfigCheckmark, UpdateSourceTrigger=PropertyChanged}"
									Command="{Binding SetOSCPathCommand}"
									Content="Set OSC Path"
									HorizontalAlignment="Stretch"
									Grid.Column="0"
									Margin="4"
								/>
                                <TextBox
									IsEnabled="{Binding OSCManualConfigCheckmark, UpdateSourceTrigger=PropertyChanged}"
									Text="{Binding OSCPathText, UpdateSourceTrigger=PropertyChanged}"
									VerticalContentAlignment="Center"
									Grid.Column="1"
									Margin="4"
								/>
                            </Grid>
                        </Grid>
                    </TabItem.Content>
                </TabItem>

                <TabItem Name="vrchat" Header="VRChat">
                    <TabItem.Content>
                        <Grid Margin="12">
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>

                            <ui:ToggleSwitch
								IsOn="{Binding VRCAutoConfigCheckmark, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
								OnContent="Use VRC OSC Query auto configuration"
								OffContent="Use VRC OSC Query auto configuration"
								Grid.Row="0"
								Margin="4"
							/>

                            <ui:ToggleSwitch
								IsEnabled="{Binding VRCAutoConfigCheckmark, UpdateSourceTrigger=PropertyChanged}"
								IsOn="{Binding VRCClinetsOnLANCheckmark, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
								OnContent="Send to all VRC Clients on LAN (requires auto config)"
								OffContent="Send to all VRC Clients on LAN (requires auto config)"
								Grid.Row="1"
								Margin="4"
							/>

                            <ui:ToggleSwitch
								IsOn="{Binding VRCChatboxCheckmark, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
								OnContent="Send heart rate to VRC chatbox"
								OffContent="Send heart rate to VRC chatbox"
								Grid.Row="2"
								Margin="4"
							/>

                            <Grid Grid.Row="3">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="140"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Button
									IsEnabled="{Binding VRCChatboxCheckmark, UpdateSourceTrigger=PropertyChanged}"
									Command="{Binding SetVRCChatboxMessageCommand}"
									Content="Set VRC msg text"
									HorizontalAlignment="Stretch"
									Grid.Column="0"
									Margin="4"
								/>
                                <TextBox
									IsEnabled="{Binding VRCChatboxCheckmark, UpdateSourceTrigger=PropertyChanged}"
									Text="{Binding VRCChatboxMessageText, UpdateSourceTrigger=PropertyChanged}"
									VerticalContentAlignment="Center"
									Grid.Column="1"
									Margin="4"
								/>
                            </Grid>
                        </Grid>
                    </TabItem.Content>
                </TabItem>
            </TabControl>
        </ui:SimpleStackPanel>
        
		<Grid 
			VerticalAlignment="Bottom"
			HorizontalAlignment="Center">
			<Button
				Command="{Binding OptionsDoneCommand}"
				Content="Done"
				Margin="12"
			/>
		</Grid>
	</Grid>
</Window>